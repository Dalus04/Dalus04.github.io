<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Recuerdos de Nosotros - Parque de Recuerdos</title>
    <link href="https://fonts.googleapis.com/css2?family=Dancing+Script:wght@400;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="styles/global.css">
    <link rel="stylesheet" href="styles/buttons.css">
    <link rel="stylesheet" href="styles/park-scene.css">
    <link rel="stylesheet" href="styles/hint-system.css">
</head>

<body>
    <!-- Fondo del parque -->
    <div class="park-background">
        <!-- Cielo con nubes -->
        <div class="sky">
            <div class="cloud cloud1"></div>
            <div class="cloud cloud2"></div>
            <div class="cloud cloud3"></div>
            <div class="cloud cloud4"></div>
        </div>

        <!-- Montañas de fondo -->
        <div class="mountains"></div>

        <!-- Árboles -->
        <div class="tree tree1"></div>
        <div class="tree tree2"></div>
        <div class="tree tree3"></div>
        <div class="tree tree4"></div>
        <div class="tree tree5"></div>
        <div class="tree tree6"></div>

        <!-- Césped y flores -->
        <div class="grass"></div>
        <div class="flowers">
            <div class="flower-patch patch1"></div>
            <div class="flower-patch patch2"></div>
            <div class="flower-patch patch3"></div>
            <div class="flower-patch patch4"></div>
            <div class="flower-patch patch5"></div>
            <div class="flower-patch patch6"></div>
        </div>

        <!-- Bancos del parque con fotos -->
        <div class="park-bench bench1">
            <div class="bench-photo" style="background-image: url('images/foto-1.jpg');"></div>
        </div>
        <div class="park-bench bench2">
            <div class="bench-photo" style="background-image: url('images/foto-2.jpg')"></div>
        </div>

        <!-- Senderos -->
        <div class="path path1"></div>
        <div class="path path2"></div>
        <div class="path path3"></div>

        <!-- Fuente -->
        <div class="fountain"></div>

        <!-- Arbustos -->
        <div class="bush bush1"></div>
        <div class="bush bush2"></div>
        <div class="bush bush3"></div>
        <div class="bush bush4"></div>
    </div>

    <!-- Objetos ocultos (3 objetos) -->
    <div class="hidden-object flor-rosa" data-object="flor" title="Una flor especial">🌹</div>
    <div class="hidden-object camara-vintage" data-object="camara" title="Nuestra primera foto">📷</div>
    <div class="hidden-object carta-amor" data-object="carta" title="Tu primera carta">💌</div>

    <!-- UI del juego -->
    <div class="game-ui">
        <div class="scene-title">🌳 Parque de Recuerdos</div>
        <div class="progress">
            <span class="progress-text">Recuerdos encontrados:</span>
            <span class="progress-count"><span id="found-count">0</span>/3</span>
        </div>
        <div class="objects-list">
            <div class="object-icon" data-icon="flor" title="Flor especial">🌹</div>
            <div class="object-icon" data-icon="camara" title="Cámara vintage">📷</div>
            <div class="object-icon" data-icon="carta" title="Carta de amor">💌</div>
        </div>
    </div>

    <!-- Botón detector visual -->
    <button class="hint-button" id="hint-button" onclick="useHint()" title="Usar pista visual">
        <span class="hint-icon">🔍</span>
        <span class="hint-text">Pista</span>
        <div class="hint-cooldown" id="hint-cooldown"></div>
    </button>

    <!-- Botón siguiente escena -->
    <button class="btn btn-primary btn-lg btn-icon" id="next-button" onclick="nextScene()">
        <span class="icon">🏠</span>
        Siguiente Escena
    </button>

    <!-- Mensaje de felicitación -->
    <div class="congratulations" id="congratulations">
        <div class="congrats-content">
            <h2>¡Increíble! 🎉</h2>
            <p>Has encontrado todos los recuerdos del parque</p>
            <div class="congrats-decoration">✨💕✨</div>
        </div>
    </div>

    <script src="js/effects.js"></script>
    <script src="js/navigation.js"></script>
    <script src="js/game-logic.js"></script>
    <script>
        // Configuración específica de esta escena
        const SCENE_CONFIG = {
            totalObjects: 3,
            sceneName: 'park',
            nextScene: 'room-scene.html',
            hasDecoyObjects: false
        };

        function nextScene() {
            if (foundObjects.size === SCENE_CONFIG.totalObjects) {
                navigateTo(SCENE_CONFIG.nextScene);
            } else {
                showMessage(`¡Encuentra todos los recuerdos! Te faltan ${SCENE_CONFIG.totalObjects - foundObjects.size} objetos.`, 'warning');
            }
        }

        // Inicializar escena
        document.addEventListener('DOMContentLoaded', () => {
            initGameScene(SCENE_CONFIG);
        });
    </script>
</body>

</html>